# Boughter Strict QC Files (EXPERIMENTAL - UNVALIDATED)

**⚠️ WARNING: These files are EXPERIMENTAL and have NOT been validated.**

**USE PRODUCTION DATA INSTEAD:** `data/train/boughter/canonical/VH_only_boughter_training.csv` (914 sequences)

This directory contains experimental fragment files with additional strict quality control filters applied (Stage 4), reducing from 914 to 852 sequences for VH.

---

## Status: UNVALIDATED

**Production Model:** Uses `canonical/VH_only_boughter_training.csv` (914 sequences)
- ✅ Validated on Jain: 66.28% accuracy
- ✅ Validated on Shehata: 52.26% accuracy (expected poor separation)
- See: `test_results/TEST_RESULTS_SUMMARY.md`

**This Directory:** Model trained on strict_qc (852 sequences) has NEVER been tested.

---

## Original Hypothesis (UNPROVEN)

These files were generated to test if stricter QC (removing all X, not just in CDRs) would match Novo's methodology better.

**Result:** Hypothesis never validated. The 914-sequence model is the proven version.

---

## Files

16 fragment files with `_strict_qc.csv` suffix:
- `VH_only_boughter_strict_qc.csv`
- `H-CDR1_boughter_strict_qc.csv`
- ... (14 more)

**Sequence Count:** Varies by fragment (additional sequences filtered)

---

## Strict QC Criteria (Beyond Stage 3)

Stage 4 applies these additional filters:
1. Select only `include_in_training == True` sequences (reduces 1,065 → 914)
2. Remove sequences with X anywhere in sequence (not just CDRs)
3. Remove sequences with non-standard amino acids (B, Z, J, U, O)

**Expected counts:**
- CDR-only fragments: 914 sequences (no X in CDRs already filtered)
- VH frameworks: 852 sequences (62 with X in VH FWRs removed)
- VL frameworks: 900 sequences (14 with X in VL FWRs removed)
- Full sequences: 840 sequences (74 with X in either chain removed)

---

## Usage

**Training Config:** Use `configs/config_strict_qc.yaml` to train on these files.

```bash
python3 train.py --config configs/config_strict_qc.yaml
```

**Note:** Standard training uses `configs/config.yaml` (recommended).

---

**Generated by:** `preprocessing/boughter/stage4_additional_qc.py`
**Last Updated:** 2025-11-05
