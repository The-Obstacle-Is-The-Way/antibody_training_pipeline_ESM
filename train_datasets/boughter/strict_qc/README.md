# Boughter Strict QC Files (Experimental)

This directory contains **experimental** fragment files with additional strict quality control filters applied (Stage 4).

---

## Purpose

These files were generated as part of an experimental investigation to determine if stricter QC criteria could improve model performance.

**Result:** No significant improvement observed. Standard QC (Stages 2+3) is sufficient.

**See:** `docs/boughter/BOUGHTER_ADDITIONAL_QC_PLAN.md` for details.

---

## Files

16 fragment files with `_strict_qc.csv` suffix:
- `VH_only_boughter_strict_qc.csv`
- `H-CDR1_boughter_strict_qc.csv`
- ... (14 more)

**Sequence Count:** Varies by fragment (additional sequences filtered)

---

## Strict QC Criteria (Beyond Stage 3)

Stage 4 applies these additional filters:
1. Select only `include_in_training == True` sequences (reduces 1,065 â†’ 914)
2. Remove sequences with X anywhere in sequence (not just CDRs)
3. Remove sequences with non-standard amino acids (B, Z, J, U, O)

**Expected counts:**
- CDR-only fragments: 914 sequences (no X in CDRs already filtered)
- VH frameworks: 852 sequences (62 with X in VH FWRs removed)
- VL frameworks: 900 sequences (14 with X in VL FWRs removed)
- Full sequences: 840 sequences (74 with X in either chain removed)

---

## Usage

**Training Config:** Use `configs/config_strict_qc.yaml` to train on these files.

```bash
python3 train.py --config configs/config_strict_qc.yaml
```

**Note:** Standard training uses `configs/config.yaml` (recommended).

---

**Generated by:** `preprocessing/boughter/stage4_additional_qc.py`
**Last Updated:** 2025-11-05
